module.exports = InspectStream;

var util = require('util')
  , stream = require('stream')
;

var InspectStream = function(opts)
{
  stream.Transform.call(this);
  this.opts = opts || {depth: 2, colors: true};
  this._readableState.objectMode = false;
  this._writableState.objectMode = true;
}

util.inherits(InspectStream, stream.Transform);

InspectStream.prototype._transform = function(chunk, enc, fn)
{
  this.push( util.inspect(chunk, this.opts) );
  this.push(null);
  fn();
}
