var Each = module.exports = {};

Each.fn = function(array, animate, content)
{
  // Actual browser side code for mc:each tag
}

Each.assemble = function(prefix, node)
{
  var attribs = {}
    , prefix = prefix || ''
  ;
  for( var i=0, ii=node.attribs.length; i<ii; i++)
  {
    attribs[node.attribs[i].name] = node.attribs[i].data;
  }

  var array = attribs.array || 'array'
    , key = attribs.key || 'key'
    , index = attribs.index || 'index'
    , animate = attribs.animate || 'animate'
  ;

  var start = prefix+'('+array+', "'+animate+'", function('+array+', '+key+', '+index+'){';
    // content
  var end = '});';

  return {start:start, end:end};
}
